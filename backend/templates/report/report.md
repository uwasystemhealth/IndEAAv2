{% load date %}

---
title: Course Evaluation Report - {{ unit_code }}
abstract: This is the course evaluation report that encompasses the reviews of the unit towards the Elements of Competencies.
author: Automatically generated by [IndEAA](https://indeaav2.systemhealthlab.com/)
date: {% now "DATETIME_FORMAT" %} 
---

## Course Information

{{ unit_code }}

Description:
{% if description %}
> {{ description }}
{% else %}
> No description. // TODO: enumerate EOCset
{% endif %}
Date started: {{ created_at|fromisoformat|date:"DATETIME_FORMAT" }}\
Update date: {{ updated_at|fromisoformat|date:"DATETIME_FORMAT" }}

### Coordinators
{% for user in coordinators %}- {% if user.first_name %}{{ user.first_name }} {{ user.last_name }} <{{ user.email }}>{% else %}{{ user.email }}{% endif %}
{% endfor %}
### Reviewers 
{% for user in reviewers %}- {% if user.first_name %}{{ user.first_name }} {{ user.last_name }} <{{ user.email }}>{% else %}{{ user.email }}{% endif %}
{% endfor %}
## Elements of Competencies
// TODO
## Documents Attached are:

{% for doc in documents %}
### Document: [{{ doc.name }}]({{ doc.url }})
{% if doc.url %}
Link: [Click here]({{ doc.url }})
{% else %}
Document has no link
{% endif %}
EOC generals: {% if doc.eoc_specifics|length_is:"0" %}No EOC generals{% endif %}{% for eoc in doc.eoc_generals %}{{ eoc.number }}{%if not forloop.last%}, {%endif%}{% endfor %}

EOC specifics: {% if doc.eoc_specifics|length_is:"0" %}No EOC specifics{% endif %}{% for eoc in doc.eoc_specifics %}{{ eoc.general_and_specific_eoc }}{%if not forloop.last%}, {%endif%}{% endfor %}

Description:

> {{ doc.description|default:"Document has no description" }}
{% endfor %}

## Coordinator Justification
{% for eoc_general in eoc_set.eoc_generals %}
### {{ eoc_general.number }}
{% for eoc_specific in eoc_general.eoc_specifics %}
#### {{ eoc_specific.general_and_specific_eoc }}
{% for justification in eoc_specific.justification %}Development level: {{ justification.development_level }}

Development level justification:

> {{ justification.justification|md_newline }}{% endfor %}{% if eoc_specific.justification|length_is:"0" %}No justification given.{% endif %}{% endfor %}{% endfor %}

## Reviews
{% for review in reviews %}
### Review of {{ review.reviewer.username }}

#### 1 - Overview
Date submitted: {% if review.date_submitted %}{{ review.date_submitted|fromisoformat|date:"DATETIME_FORMAT" }}{% else %}Not yet submitted.{% endif %}
{% if review.eoc_date_viewed %}
Read the EOCs on {{ review.eoc_date_viewed|fromisoformat|date:"DATETIME_FORMAT" }}
{% else %}
Reviewer has not confirmed reading the EOCs.
{% endif %}
#### 2 - Documents Review
{% for doc in review.documents %}
#### Review for document [{{ doc.document.name }}]({{ doc.document.url }})

> {{ doc.comment|default:"Reviewer has no comment for document" }}

Created Reviewed On: {{ doc.created_at|fromisoformat|date:"DATETIME_FORMAT" }}\
Last Updated On: {{ doc.updated_at|fromisoformat|date:"DATETIME_FORMAT" }}
{% endfor %}{% if review.documents|length_is:"0" %}> Reviewer has not reviewed the documents{% endif %}
#### 3 - Element of Competencies Review
{% for eoc in review.eoc_specific_reviews %}
##### EOC {{ eoc.eoc_specific.general_and_specific_eoc }}
{{eoc.eoc_specific.all}}
Rating: {{ eoc.development_level|default:"Reviewer has not rated the EOC" }}

Reason:

> {{ eoc.justification|default:"Reviewer did not provide reason" }}

Idea for Improvement:

> {{ eoc.suggestion|default:"Reviewer did not give suggestion" }}
{% endfor %}{% if review.eoc_specific_reviews|length_is:"0" %}> Reviewer has not evaluated any EOCs{% endif %}
#### 4 - Final comment

> {{ review.final_comment|default:"Reviewer has not given a final comment" }}

--- 

{% endfor %}